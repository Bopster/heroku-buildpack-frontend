#!/bin/sh
# bin/compile <build-dir> <cache-dir> <env-dir>
### Configure directories

BUILD_DIR=${1:-}
CACHE_DIR=${2:-}
ENV_DIR=${3:-}

### Set methods and vars used in script

indent() {
    sed -u 's/^/       /'
}

PREFIX="----->"

## Start compiling

# Install bower
echo "$PREFIX Setup environment for bower"
echo "Install bower" | indent
npm install bower

echo "Run 'bower install'" | indent
$BUILD_DIR/node_modules/.bin/bower install | indent

# Install gulp locally
echo "$PREFIX Installing Gulp"
npm install gulp

$BUILD_DIR/node_modules/.bin/gulp | indent

echo "$PREFIX Done GulpBuild"